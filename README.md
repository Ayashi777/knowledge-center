# Corporate Knowledge Center üìö v1.2.8

–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∏–π –ø–æ—Ä—Ç–∞–ª –±–∞–∑–∏ –∑–Ω–∞–Ω—å –∑ –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é —Ä—ñ–≤–Ω—ñ–≤ –¥–æ—Å—Ç—É–ø—É (RBAC), –º—É–ª—å—Ç–∏–º–æ–≤–Ω—ñ—Å—Ç—é —Ç–∞ —Å—É—á–∞—Å–Ω–æ—é –∞—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–æ—é FSD (Feature-Sliced Design).

## üöÄ –û—Å–Ω–æ–≤–Ω—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ

*   **–°–∏—Å—Ç–µ–º–∞ —Ä–æ–ª–µ–π (RBAC):** 9 —Ä—ñ–≤–Ω—ñ–≤ –¥–æ—Å—Ç—É–ø—É (Guest, Foreman, Engineer, Architect, Employee, Worker, Dispatcher, HR, Admin).
*   **Server-side Filtering:** –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ Firestore (—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è –∑–∞ –∫–∞—Ç–µ–≥–æ—Ä—ñ—è–º–∏ —Ç–∞ –ª—ñ–º—ñ—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω—ñ —Å–µ—Ä–≤–µ—Ä–∞).
*   **–ì–ª–æ–±–∞–ª—å–Ω–∏–π Modal Manager:** –ö–µ—Ä—É–≤–∞–Ω–Ω—è –º–æ–¥–∞–ª—å–Ω–∏–º–∏ –≤—ñ–∫–Ω–∞–º–∏ —á–µ—Ä–µ–∑ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä.
*   **–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –∑ URL:** –ü–æ—à—É–∫, –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó —Ç–∞ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ Query Params.
*   **–ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å:** –ü–æ–≤–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ UK —Ç–∞ EN –º–æ–≤ —á–µ—Ä–µ–∑ `react-i18next`.
*   **–ë–µ–∑–ø–µ–∫–∞:** –°–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É (XSS protection) —Ç–∞ —Å—Ç—Ä–æ–≥—ñ –ø—Ä–∞–≤–∏–ª–∞ Firebase Storage/Firestore.

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–∏–π —Å—Ç–µ–∫

*   **Frontend:** React 19, TypeScript, React Router 7
*   **Backend:** Firebase (Auth, Firestore, Storage)
*   **Styling:** Tailwind CSS
*   **I18n:** i18next
*   **Security:** DOMPurify

## üìÇ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞ (FSD)

–ü—Ä–æ—î–∫—Ç –æ—Ä–≥–∞–Ω—ñ–∑–æ–≤–∞–Ω–∏–π –∑–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—î—é Feature-Sliced Design:

*   **src/app**: –ü—Ä–æ–≤–∞–π–¥–µ—Ä–∏ (Auth, i18n, Modal), –≥–ª–æ–±–∞–ª—å–Ω—ñ —Å—Ç–∏–ª—ñ —Ç–∞ Layout.
*   **src/pages**: –°—Ç–æ—Ä—ñ–Ω–∫–∏ –¥–æ–¥–∞—Ç–∫–∞ (Dashboard, DocumentPage, AdminPage).
*   **src/widgets**: –í–µ–ª–∏–∫—ñ –±–ª–æ–∫–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É (Sidebar, AdminPanel, DocumentView, Modals).
*   **src/entities**: –ë—ñ–∑–Ω–µ—Å-—Å—É—Ç–Ω–æ—Å—Ç—ñ (Document, Category, Tag) –∑ —ó—Ö–Ω—ñ–º–∏ –º–æ–¥–µ–ª—è–º–∏ —Ç–∞ —Ö—É–∫–∞–º–∏.
*   **src/shared**: UI-–∫—ñ—Ç, API-–∫–ª—ñ—î–Ω—Ç–∏, —É—Ç–∏–ª—ñ—Ç–∏ —Ç–∞ —Ç–∏–ø–∏.

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

```bash
# –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
npm install

# –ó–∞–ø—É—Å–∫ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏
npm run dev

# –ë—ñ–ª–¥ —Ç–∞ –¥–µ–ø–ª–æ–π –Ω–∞ Firebase
npm run deploy
```

## üß© Local Dev: Firebase Storage CORS

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ—ó —Ä–æ–∑—Ä–æ–±–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –¥–æ–∑–≤–æ–ª–∏—Ç–∏ –∑–∞–ø–∏—Ç–∏ –¥–æ Storage –∑ `http://localhost:3000`.
–ó–∞—Å—Ç–æ—Å—É–π CORS –∫–æ–Ω—Ñ—ñ–≥ –æ–¥–∏–Ω —Ä–∞–∑:

```bash
gsutil cors set cors.json gs://knowledge-center-5274257-2457a.appspot.com
```

> –ü—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –º–æ–∂–µ –ø—Ä–æ–π—Ç–∏ –∫—ñ–ª—å–∫–∞ —Ö–≤–∏–ª–∏–Ω, –ø–æ–∫–∏ –ø–æ–ª—ñ—Ç–∏–∫–∞ –∑–∞—Å—Ç–æ—Å–æ–≤—É—î—Ç—å—Å—è.

## ‚öôÔ∏è –ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è

1.  **XSS Protection**: –í–µ—Å—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ü—å–∫–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —á–µ—Ä–µ–∑ `DOMPurify`.
2.  **Firestore Efficiency**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `dot notation` –¥–ª—è –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–æ–ª—ñ–≤, —â–æ –∑–∞–ø–æ–±—ñ–≥–∞—î –∫–æ–Ω—Ñ–ª—ñ–∫—Ç–∞–º –¥–∞–Ω–∏—Ö.
3.  **Storage Access**: –ü—Ä—è–º–∏–π –¥–æ—Å—Ç—É–ø –¥–æ –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤ –æ–±–º–µ–∂–µ–Ω–∏–π –ª–∏—à–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ —á–µ—Ä–µ–∑ Storage Rules.
